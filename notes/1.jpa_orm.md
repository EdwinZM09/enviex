# JPA-ORM

JPA stands for Java Presistence API
ORM stands for Object-Relational Mapping

ORM is a technique that allows you to fetch from and manipulate a database by using an object-oriented programming paradigm.
ORM is mostly independent of databases, and developers don't have to worry about vendor-specific SQL statements.

JPA provides OBJECT-RELATIONAL Mapping.
The JPA entity is a Java class that represents the structure of a DB table. The fields of an entity represent the columns of the table.

An entity class is a simple Java class that is annotated with JPA's @Entity annotation. Entity classes use the standard JavaBean naming convention and have proper getter and setter methods. The class fields have private visibility.

## Create an Entity class

1. Create a class in model or domain package.
2. Annotate the class with the __@Entity__ annotation.
3. Add some fields
4. The _primary key_ is define by the _id_ which is annotated with the __@ID__ annotation. The __@GeneratedValue__ annotation defines that the ID is automatically generated by the DB.

```java
@Id
@GeneratedValue(strategy=GenerationType.AUTO)
private long id;
```

5. The database columns are named according to class field naming by default. If you want to use some other naming convention, you can use the __@Column__ annotation. With the __@Column__ annotation, you can also define the column's length and whether the column is nullable.

```java
@Column(name="explanation", nullable=false, length=512)
private String description;
```

6. Add __Getters__, __Setters__, __Constructor__ with no params and __Constructor__ with attributes to the entity class, there's no need to add the ID field due to automatic ID generation.


### Table generation

The tables must be created in the DB when running the application, to ensure that, add one property to the __application.properties__ file

```
spring.jsp.show-sql=true
```

## H2 DB
H2 is an __in-memory DB__ good for fast development, testing or demonstration purposes.

It provides a web-based console that can be used to explore a DB and execute SQL statements. To enable it add the following lines to the __application.properties__ file:

```
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
```

Access the DB by navigatin _localhost:8080/h2-console_. Use __jdbc:h2:mem:testdb__ as the JDBC URL and leave the Password field empty in the Login window.







